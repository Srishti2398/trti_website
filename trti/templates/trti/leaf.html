 {% load static %}
<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta charset="utf-8">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'footer.css' %}">
    <link rel="stylesheet" href="{% static 'leaflet.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/L.Control.Pan.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/L.Control.Zoomslider.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/L.Control.MousePosition.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/L.Control.Sidebar.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/Leaflet.PolylineMeasure.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/easy-button.css' %}">
    <link rel="stylesheet" href="{% static 'css/animate.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/mycss.css' %}">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="{% static 'front.css' %}">

    <script src="{% static 'leaflet-src.js' %}"></script>
    <!-- <script src="src/jquery-3.2.0.min.js"></script> -->
    <script src="{% static 'plugins/L.Control.Pan.js' %}"></script>
    <script src="{% static 'plugins/L.Control.Zoomslider.js' %}"></script>
    <script src="{% static 'plugins/L.Control.MousePosition.js' %}"></script>
    <script src="{% static 'plugins/L.Control.Sidebar.js' %}"></script>
    <script src="{% static 'plugins/Leaflet.PolylineMeasure.js' %}"></script>
    <script src="{% static 'plugins/easy-button.js' %}"></script>
    <script src="{% static 'plugins/leaflet-providers.js' %}"></script>
    <script src="{% static 'plugins/leaflet-opencage/src/js/L.Control.OpenCageSearch.js' %}"></script>
    <!-- <script src="{% static 'app.js' %}"></script> -->
    <!-- <link rel="stylesheet" type="leaflet.wms.js" href="{% static 'css/component.css' %}"  /> -->
    <link rel="stylesheet" href="{% static 'mystyle.css' %}">
    <link rel='stylesheet' href="{% static 'css/component.css' %}">
    <script src="{% static 'plugins/leaflet.ajax.min.js' %}"></script>
    <script src="{% static 'js/modernizr-custom.js' %}"></script>
    <script src="{% static 'leaflet.wms.js' %}"></script>

    <script src="{% static 'js/classie.js' %}"></script>
    <!-- <script src="js/dummydata.js"></script> -->
    <!-- <script src="src/js/main.js"></script> -->
    <script src="{% static 'js/main.js' %}"></script>
    <script src="{% static 'myscript.js' %}"></script>


    <!-- scripts for spinner -->

    <script src="{% static 'spin/spin.js'%}"></script>
    <script src="{% static 'leaflet.spin.min.js' %}"></script>

    <!-- font-awesome -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    <!-- script for leaflet font awesome-->
    <script src="{% static 'leaflet.awesome-markers.js' %}"></script>
    <link rel="stylesheet" href="{% static 'leaflet.awesome-markers.css' %}">



    <!-- leaflet-messagebox-->
    <script src="{% static 'leaflet-messagebox.js' %}"></script>
    <link rel="stylesheet" href="{% static 'leaflet-messagebox.css' %}">

    <!-- leaflet-measure-->
    <script src="{% static 'leaflet_measure/leaflet.measure.js' %}"></script>
    <link rel="stylesheet" href="{% static 'leaflet_measure/leaflet.measure.css' %}">


    <!-- leaflet-search -->
    <script src="{% static 'leaflet-search/leaflet-search.src.js' %}"></script>
    <link rel="stylesheet" href="{% static 'leaflet-search/leaflet-search.src.css' %}">


    <!-- leaflet minimap -->
    <script src="{% static 'leaflet-minimap/Control.MiniMap.min.js' %}"></script>
    <link rel="stylesheet" href="{% static 'leaflet-minimap/Control.MiniMap.min.css' %}">


    <!--d3fordependentdropdown-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>


    <script src="https://d3js.org/d3.v4.min.js"></script>


    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>


    <!-- leaflet lagend graphic -->

    <script src="{% static 'leaflet-legend-graphics/leaflet.wmslegend.js' %}"></script>
    <link rel="stylesheet" href="{% static 'leaflet-legend-graphics/leaflet.wmslegend.css' %}">

    <!-- <link rel="stylesheet" href=""/>
<script src="leaflet-legend-graphics/leaflet.wmslegend.js"></script> -->

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


</head>

<body>
    <style>
        body {
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            margin: 0;
            overflow: hidden;
        }
        
        .full-height {
            height: 100%;
        }
        
        .header {
            height: 50px;
        }
        
        .mobileShow {
            display: none;
        }
        /* Smartphone Portrait and Landscape */
        
        @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {
            .mobileShow {
                display: inline;
            }
        }
    </style>



    <div class="full-height">
        <div class="row h-100">
            <div class="container-fluid">
                <div id="mapdiv" class="col-12 h-100"></div>
            </div>

        </div>

    </div>

    <script>
        var mymap;
        var source = L.wms.source(
            "https://makerghat.urbansciences.in/geoserver/wms", {
                "format": "image/png",
                "transparent": "true"
            }
        );

        mymap = L.map('mapdiv', {
            center: [20.2760, 76.9777],
            zoom: 7,
            zoomControl: false,
            attributionControl: false,
            messagebox: true,
            contextmenu: true,
            measureControl: false
        });
        mymap.messagebox.options.timeout = 5000;
        mymap.messagebox.setPosition("bottomright");
        lyrOSM = L.tileLayer.provider('OpenStreetMap.Mapnik');
        lyrOSM2 = L.tileLayer.provider('OpenStreetMap.Mapnik');
        lyrImagery = L.tileLayer.provider('Esri.WorldImagery');
        mymap.addLayer(lyrOSM);
        var miniMap = new L.Control.MiniMap(lyrOSM2, {
            toggleDisplay: true
        }).addTo(mymap);
        //  var miniMap = new L.Control.MiniMap(lyrOSM).addTo(mymap);

        function round(value, precision) {
            var multiplier = Math.pow(10, precision || 0);
            return Math.round(value * multiplier) / multiplier;
        }


        function copyToClipboard(text) {
            var dummy = document.createElement("textarea");
            // dummy.style.display = 'none'
            document.body.appendChild(dummy);
            dummy.value = text;
            dummy.select();
            document.execCommand("copy");
            document.body.removeChild(dummy);
        }

        mymap.on('contextmenu', function(e) {
            copyToClipboard(e.latlng.lat + "," + e.latlng.lng);
            mymap.messagebox.show("<h6>Latitude:<b>" + round(e.latlng.lat, 4) + "</b> Longitude:<b>" + round(e.latlng.lng, 4) + "</b> copied to clipboard</h6>");
        });



        $('.select').click(function() {
            $(this).toggleClass('highlight')
        })
    </script>




    {% block content%} {% endblock %}

    <script>
        $("#closebutton").click(function() {
            ctlSidebar.toggle();
        });



        objBasemaps = {
            "Open Street Maps": lyrOSM,
            "Imagery": lyrImagery
        };

        objOverlays = {};

        // var ctlLayers = L.control.layers(objBasemaps, objOverlays).addTo(mymap);
        var ctlSidebar = L.control.sidebar('side-bar').addTo(mymap);
        // var ctlPan = L.control.pan().addTo(mymap);

        var ctlEasybutton = L.easyButton('fa fa fa-bars', function() {
            ctlSidebar.toggle();
        }).addTo(mymap);
        ctlSidebar.show();

        var ctlZoomslider = L.control.zoomslider({
            position: 'topright'
        }).addTo(mymap);

        ctlAttribute = L.control.attribution({
            position: 'bottomleft'
        }).addTo(mymap);
        ctlAttribute.addAttribution('&copy; <a href="http://www.makerghat.org">makerGHAT</a>');
    </script>


</body>

</html>
<!-- // var map = L.map('map').setView([19.0760, 74.8777], 8);
            // L.tileLayer('https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=cgwRlBrAhMWn66zx6TBe', {
            //     minZoom: 2.5,
            //     attribution: '<a href="https://www.maptiler.com/copyright/" target="_blank">© MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a>',
            //     crossOrigin: true
            // }).addTo(map);



        // //   var marker = L.marker([19.0760, 74.8777]).addTo(map);
        // function xyz(feature, layer) {
        //     layer.bindPopup("xyz")
        // };

        //L.geoJson("trti_districts.geojson").addTo(map);
        // L.geoJson(district, {
        //     onEachFeature: function(feature, layer) {
        //         layer.bindPopup(`<table class ='popupclass'>
        //             <tr><td>District Name:</td><td> ${feature.properties.district}</td></tr>
        //             <tr><td>Skill Development programs:</td><td> ${feature.properties.on_skill_prgm}</td></tr>
        //             <tr><td>Opportunities:</td><td> ${feature.properties.opprtunities}</td></tr>




        //                </table>`)

        //     }


        // }).addTo(map);
        // L.geoJson(institute, {

        //     onEachFeature: function(feature, layer) {
        //         layer.bindPopup(`<table class ='popupclass'>
        //             <tr><td>Institute Name:</td><td> ${feature.properties.Name_of_in}</td></tr>
        //                 <tr><td>Taluka:</td><td> ${feature.properties.Taluka}</td></tr>
        //                  <tr><td>Address:</td><td> ${feature.properties.Address}</td></tr>
        //                 <tr><td>Pincode:</td><td> ${feature.properties.Pincode}</td></tr>
        //                 <tr><td>Proposed courses for skill development:</td><td> ${feature.properties.Proposed_Course}</td></tr>



        //                </table>`)

        //     }
        // }).addTo(map); -->